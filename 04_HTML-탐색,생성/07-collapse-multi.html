<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      .collapsible-title {
        background-color: #777;
        color: white;
        cursor: pointer;
        padding: 18px;
        width: 100%;
        border: none;
        font-weight: normal;
        margin: 0;
        text-align: left;
        outline: none;
        font-size: 15px;
      }

      .collapsible-title.active,
      .collapsible-title:hover {
        background-color: #555;
      }

      .content {
        /* border: 5px solid red; */
        padding: 0 18px;
        /* max-height: 0;
        overflow: hidden;
        transition: max-height 0.2s ease-out; */
        display: none;
        background-color: #f1f1f1;
      }
    </style>
  </head>
  <body>
    <h2>Animated Collapsibles</h2>
    <p>A Collapsible :</p>

    <div class="collapse">
      <h1 class="collapsible-title">open collapsible</h1>
      <div class="content">
        <p>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Odit non
          facere voluptates labore quia eius reiciendis sed sequi neque minus
          voluptatum cumque, dolore laudantium voluptate. Vero fugiat
          reprehenderit placeat eligendi?
        </p>
      </div>
    </div>

    <div class="collapse">
      <h1 class="collapsible-title">open collapsible</h1>
      <div class="content">
        <p>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Odit non
          facere voluptates labore quia eius reiciendis sed sequi neque minus
          voluptatum cumque, dolore laudantium voluptate. Vero fugiat
          reprehenderit placeat eligendi?
        </p>
      </div>
    </div>

    <div class="collapse">
      <h1 class="collapsible-title">open collapsible</h1>
      <div class="content">
        <p>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Odit non
          facere voluptates labore quia eius reiciendis sed sequi neque minus
          voluptatum cumque, dolore laudantium voluptate. Vero fugiat
          reprehenderit placeat eligendi?
        </p>
      </div>
    </div>

    <div class="collapse">
      <h1 class="collapsible-title">open collapsible</h1>
      <div class="content">
        <p>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Odit non
          facere voluptates labore quia eius reiciendis sed sequi neque minus
          voluptatum cumque, dolore laudantium voluptate. Vero fugiat
          reprehenderit placeat eligendi?
        </p>
      </div>
    </div>

    <div class="collapse">
      <h1 class="collapsible-title">open collapsible</h1>
      <div class="content">
        <p>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Odit non
          facere voluptates labore quia eius reiciendis sed sequi neque minus
          voluptatum cumque, dolore laudantium voluptate. Vero fugiat
          reprehenderit placeat eligendi?
        </p>
      </div>
    </div>

    <div class="collapse">
      <h1 class="collapsible-title">open collapsible</h1>
      <div class="content">
        <p>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Odit non
          facere voluptates labore quia eius reiciendis sed sequi neque minus
          voluptatum cumque, dolore laudantium voluptate. Vero fugiat
          reprehenderit placeat eligendi?
        </p>
      </div>
    </div>

    <div class="collapse">
      <h1 class="collapsible-title">open collapsible</h1>
      <div class="content">
        <p>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Odit non
          facere voluptates labore quia eius reiciendis sed sequi neque minus
          voluptatum cumque, dolore laudantium voluptate. Vero fugiat
          reprehenderit placeat eligendi?
        </p>
      </div>
    </div>

    <div class="collapse">
      <h1 class="collapsible-title">open collapsible</h1>
      <div class="content">
        <p>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Odit non
          facere voluptates labore quia eius reiciendis sed sequi neque minus
          voluptatum cumque, dolore laudantium voluptate. Vero fugiat
          reprehenderit placeat eligendi?
        </p>
      </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/4.0.0-beta/jquery.min.js"></script>
    <script>
      $(".collapsible-title").on("click", (e) => {
        // 클릭된 제목 스스로 active 클래스 on/off
        const current = $(e.currentTarget);
        current.toggleClass("active");

        // 클릭된 제목의, 부모의, .content 클래스를 갖는 자손 요소
        const content = current.parents('.collapse').find('.content');
        // slide on/off
        content.slideToggle(200);

        // 전체 제목중에서 클릭된 스스로를 제외한 나머지에게 active 클래스를 제거
        $(".collapsible-title").not(current).removeClass("active");

        // 전체 내용 중에서 이번에 작동한 항목을 제외한 나머지에게 slideUp
        $(".content").not(content).slideUp(200);
      });
    </script>
  </body>
</html>
