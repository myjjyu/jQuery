<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      .item {
        border: 1px dotted #ff6600;
        margin: 10px auto;
        padding: 5px 10px;
      }
    </style>
  </head>
  <body>
    <button id="btn1">요소 복사하기</button>
    <button id="btn2">초기화</button>

    <div id="box">
      <div id="obj" class="item">Hello World</div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/4.0.0-beta/jquery.min.js"></script>
    <script>
      $('#btn1').on('click', () => {
        // 현재 시각의 timestamp
        const time = new Date().getTime();

        // 복제될 요소의 id값 만들기 --> copy_2384729347
        const id = "copy_" + time;

        // `#obj`를 복제한다
        // <div id="copy_2384729347" class="item">Hello World</div>
        const copy = $('#obj').clone();

        // 요소를 복제할 경우 id값까지 동일해지므로 id값은 새로운 값으로 변경해야한다
        copy.attr('id', id);

        // 복제된 요소를 `#box`에 추가한다
        $('#box').append(copy);
      });

      $('#btn2').on('click', () => {
        // 첫번째 요소를 남겨두고 삭제한다
        $(".item").not("#obj").remove();
      });

    </script>
  </body>
</html>
